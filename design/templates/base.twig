<!DOCTYPE html>
<html lang="en" data-theme="fantasy">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">    
		<meta name="keywords" content="{{ site['seo_key'] }}">
		<meta name="description" content="{{ site['seo_desc'] }}">
    <link rel="shortcut icon" type="image/ico" href="{{ site['favicon'] }}"/>
    {{ site['custom_header'] }}
		{# {% for style in site['styles'] %}
			<link rel="stylesheet" type="text/css" href="{{ style['href'] }}">
		{% endfor %} #}
    {% if site['name'] != 'development' %}
      <link rel="stylesheet" href="https://nicerazer.github.io/TF2022/design/dist/assets/index.fdcc364f.css">
    {% endif %}
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>

    {% if page['url'] not in ['/orders','/services','/subscriptions', '/refill'] %}
    <meta name="viewport" content="width=device-width, initial-scale=1">
    {% endif %}
    <title>{{ page['title'] }}</title>
  </head>
  <body class="bg-base-300">
    {% if user['auth'] %}
      {# <div class="fixed bottom-20 right-5 z-[100] w-[60px] flex justify-center">
        <a href="https://api.whatsapp.com/send?phone=60189133685" target="_blank" class="btn btn-circle w-[60px] h-[60px] bg-[#25D366] hover:border-[#128C7E] hover:bg-[#128C7E] text-neutral-light-300">
          <svg class="w-6 h-6" version="1.1" id="Layer_1" fill="currentColor" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 308 308" style="enable-background:new 0 0 308 308;" xml:space="preserve"><g id="XMLID_468_"><path id="XMLID_469_" d="M227.904,176.981c-0.6-0.288-23.054-11.345-27.044-12.781c-1.629-0.585-3.374-1.156-5.23-1.156c-3.032,0-5.579,1.511-7.563,4.479c-2.243,3.334-9.033,11.271-11.131,13.642c-0.274,0.313-0.648,0.687-0.872,0.687c-0.201,0-3.676-1.431-4.728-1.888c-24.087-10.463-42.37-35.624-44.877-39.867c-0.358-0.61-0.373-0.887-0.376-0.887c0.088-0.323,0.898-1.135,1.316-1.554c1.223-1.21,2.548-2.805,3.83-4.348c0.607-0.731,1.215-1.463,1.812-2.153c1.86-2.164,2.688-3.844,3.648-5.79l0.503-1.011c2.344-4.657,0.342-8.587-0.305-9.856c-0.531-1.062-10.012-23.944-11.02-26.348c-2.424-5.801-5.627-8.502-10.078-8.502c-0.413,0,0,0-1.732,0.073c-2.109,0.089-13.594,1.601-18.672,4.802c-5.385,3.395-14.495,14.217-14.495,33.249c0,17.129,10.87,33.302,15.537,39.453c0.116,0.155,0.329,0.47,0.638,0.922c17.873,26.102,40.154,45.446,62.741,54.469c21.745,8.686,32.042,9.69,37.896,9.69c0.001,0,0.001,0,0.001,0c2.46,0,4.429-0.193,6.166-0.364l1.102-0.105c7.512-0.666,24.02-9.22,27.775-19.655c2.958-8.219,3.738-17.199,1.77-20.458C233.168,179.508,230.845,178.393,227.904,176.981z"/><path id="XMLID_470_" d="M156.734,0C73.318,0,5.454,67.354,5.454,150.143c0,26.777,7.166,52.988,20.741,75.928L0.212,302.716c-0.484,1.429-0.124,3.009,0.933,4.085C1.908,307.58,2.943,308,4,308c0.405,0,0.813-0.061,1.211-0.188l79.92-25.396c21.87,11.685,46.588,17.853,71.604,17.853C240.143,300.27,308,232.923,308,150.143C308,67.354,240.143,0,156.734,0z M156.734,268.994c-23.539,0-46.338-6.797-65.936-19.657c-0.659-0.433-1.424-0.655-2.194-0.655c-0.407,0-0.815,0.062-1.212,0.188l-40.035,12.726l12.924-38.129c0.418-1.234,0.209-2.595-0.561-3.647c-14.924-20.392-22.813-44.485-22.813-69.677c0-65.543,53.754-118.867,119.826-118.867c66.064,0,119.812,53.324,119.812,118.867C276.546,215.678,222.799,268.994,156.734,268.994z"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>
        </a>
      </div> #}
      {# Auth: Drawer Container #}
      <div class="drawer">
        <input id="main-drawer" type="checkbox" class="drawer-toggle" />
        <div class="drawer-content flex flex-col">

          {# Auth: Top, Main Navbar #}
          {% if page['url'] != '/ticket-view' %}
          <div class="w-full navbar bg-base-100 text-neutral-dark-300 text-sm md:justify-between">
            <div class="flex-none md:hidden">
              <label for="main-drawer" class="btn btn-square btn-ghost">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" />
                </svg>
              </label>
            </div>
            <div class="px-2 mx-2"><img src="https://cdn.mypanel.link/af5a5a/5poolxxjg4ox7pog.png" alt="Logo" class="w-24"></div>

            {# Middle, main menu items #}
            <nav class="hidden md:block" x-data="authNavbarData">
              <ul class="menu menu-horizontal lg:gap-4">
                <li tabindex="0">
                  <span class="rounded-lg" :class="['neworder','orders','subscriptions','refill'].includes(currentPageName) && 'text-base-content'">
                    Order
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                      <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
                    </svg>
                  </span>
                  <ul class="bg-base-100 rounded-lg w-48 shadow-lg z-50">
                    <li><a href="/" :class="currentPageName == 'neworder' && 'text-base-content'">Cipta Order</a></li>
                    <li><a href="/orders" :class="currentPageName == 'orders' && 'text-base-content'">Semak Order</a></li>
                    <li><a href="/subscriptions" x-show="availableMenus['Subscriptions']" :class="currentPageName == 'subscriptions' && 'text-base-content'">Subscriptions</a></li>
                    <li><a href="/refill" x-show="availableMenus['Refill']" :class="currentPageName == 'refill' && 'text-base-content'">Refill</a></li>
                    <li><a href="/massorder" :class="currentPageName == 'massorder' && 'text-base-content'">Mass Order</a></li>
                  </ul>
                </li>
                <li class="hidden lg:block"><a href="/services" class="rounded-lg" :class="currentPageName == 'services' && 'text-base-content'">Senarai Servis</a></li>
                <li class="hidden xl:block"><a href="/addfunds" class="rounded-lg" :class="currentPageName == 'addfunds' && 'text-base-content'">Tambah Nilai</a></li>
                <li tabindex="0" class="dropdown dropdown-hover">
                  <label tabindex="0" class="rounded-lg indicator">
                    <span class="indicator-item badge badge-accent -translate-x-0.5 translate-y-0.5 animate-ping">{{ user['unread_ticket'] }}</span>
                    <span class="indicator-item badge badge-accent -translate-x-0.5 translate-y-0.5">{{ user['unread_ticket'] }}</span>
                    Lain-lain
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                      <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
                    </svg>
                  </label>
                  <ul tabindex="0" class="dropdown-content menu p-2 shadow bg-base-100 rounded-lg w-52">
                    <li class="block xl:hidden menu-title">
                      <span>Servis utama</span>
                    </li>
                    <li class="block xl:hidden" :class="currentPageName == 'addfunds' && 'text-base-content'">
                      <a href="/addfunds">Tambah Nilai</a>
                    </li>
                    <li class="block lg:hidden" :class="currentPageName == 'services' && 'text-base-content'">
                      <a href="/services">Senarai Servis</a>
                    </li>
                    <li class="menu-title">
                      <span>Servis Tambahan</span>
                    </li>
                    <li><a :class="currentPageName == 'affiliates' && 'text-base-content'" href="/affiliates">Affiliates</a></li>
                    <li><a :class="currentPageName == 'child-panels' && 'text-base-content'" href="/child-panel">Child Panels</a></li>
                    <li class="menu-title">
                      <span>Lain-lain</span>
                    </li>
                    <li>
                      <a :class="currentPageName == 'tickets' && 'text-base-content'" class="indicator" href="/tickets">
                        Mesej Admin
                        <span class="indicator-item badge badge-accent -translate-x-0.5 translate-y-0.5 animate-ping">{{ user['unread_ticket'] }}</span>
                        <span class="indicator-item badge badge-accent -translate-x-0.5 translate-y-0.5">{{ user['unread_ticket'] }}</span>
                      </a>
                    </li>
                    <li><a :class="currentPageName == 'faq' && 'text-base-content'" href="/faq">Soalan Lazim</a></li>
                    <li><a :class="currentPageName == 'terms' && 'text-base-content'" href="/terms">Terma & Syarat</a></li>
                    <li><a :class="currentPageName == 'terms' && 'text-base-content'" href="/api">API</a></li>
                  </ul>
                </li>
              </ul>
            </nav>
            <!-- Right menu -->
            <nav class="ml-auto">
              <ul class="menu menu-horizontal gap-2">
                <li class="dropdown dropdown-end mr-2 md:pr-0">
                  <a href="/addfunds" class="font-normal text-base p-0 md:px-4 md:py-2 rounded-full">
                    <span class="badge badge-lg badge-secondary text-xs">{{ user['balance_formatted'] }}</span>
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6 hidden md:block">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M21 12a2.25 2.25 0 00-2.25-2.25H15a3 3 0 11-6 0H5.25A2.25 2.25 0 003 12m18 0v6a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 18v-6m18 0V9M3 12V9m18 0a2.25 2.25 0 00-2.25-2.25H5.25A2.25 2.25 0 003 9m18 0V6a2.25 2.25 0 00-2.25-2.25H5.25A2.25 2.25 0 003 6v3" />
                    </svg>
                  </a>
                </li>
              </ul>
              <div class="hidden md:flex divider divider-horizontal my-4 mx-0"></div>
              <ul class="menu menu-horizontal gap-2">
                <li class="dropdown dropdown-end">
                  <label tabindex="0" class="btn btn-ghost font-normal text-base rounded-lg m-1 indicator">
                    {# <span class="indicator-item badge badge-accent -translate-x-0.5 translate-y-0.5 animate-ping">{{ user['unread_ticket'] }}</span>
                    <span class="indicator-item badge badge-accent -translate-x-0.5 translate-y-0.5">{{ user['unread_ticket'] }}</span> #}
                    {# <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" />
                    </svg> #}
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M12 7.5h1.5m-1.5 3h1.5m-7.5 3h7.5m-7.5 3h7.5m3-9h3.375c.621 0 1.125.504 1.125 1.125V18a2.25 2.25 0 01-2.25 2.25M16.5 7.5V18a2.25 2.25 0 002.25 2.25M16.5 7.5V4.875c0-.621-.504-1.125-1.125-1.125H4.125C3.504 3.75 3 4.254 3 4.875V18a2.25 2.25 0 002.25 2.25h13.5M6 7.5h3v3H6v-3z" />
                    </svg>

                  </label>
                  <ul tabindex="0" class="dropdown-content menu p-2 shadow bg-base-100 rounded-box w-52">
                    <li><a href="/updates">Update Servis</a></li>
                    <li><button type="button" id="beamerButton">Info Semasa</button></li>
                  </ul>
                </li>
                <li>
                  <div class="hover:bg-inherit p-0">
                    <a href="https://api.whatsapp.com/send?phone=60189133685" target="_blank" class="btn w-12 h-12 p-0 bg-[#25D366] hover:border-[#128C7E] hover:bg-[#128C7E] text-neutral-light-300 font-normal text-base rounded-full m-1">
                      <svg class="w-6 h-6" version="1.1" id="Layer_1" fill="currentColor" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 308 308" style="enable-background:new 0 0 308 308;" xml:space="preserve"><g id="XMLID_468_"><path id="XMLID_469_" d="M227.904,176.981c-0.6-0.288-23.054-11.345-27.044-12.781c-1.629-0.585-3.374-1.156-5.23-1.156c-3.032,0-5.579,1.511-7.563,4.479c-2.243,3.334-9.033,11.271-11.131,13.642c-0.274,0.313-0.648,0.687-0.872,0.687c-0.201,0-3.676-1.431-4.728-1.888c-24.087-10.463-42.37-35.624-44.877-39.867c-0.358-0.61-0.373-0.887-0.376-0.887c0.088-0.323,0.898-1.135,1.316-1.554c1.223-1.21,2.548-2.805,3.83-4.348c0.607-0.731,1.215-1.463,1.812-2.153c1.86-2.164,2.688-3.844,3.648-5.79l0.503-1.011c2.344-4.657,0.342-8.587-0.305-9.856c-0.531-1.062-10.012-23.944-11.02-26.348c-2.424-5.801-5.627-8.502-10.078-8.502c-0.413,0,0,0-1.732,0.073c-2.109,0.089-13.594,1.601-18.672,4.802c-5.385,3.395-14.495,14.217-14.495,33.249c0,17.129,10.87,33.302,15.537,39.453c0.116,0.155,0.329,0.47,0.638,0.922c17.873,26.102,40.154,45.446,62.741,54.469c21.745,8.686,32.042,9.69,37.896,9.69c0.001,0,0.001,0,0.001,0c2.46,0,4.429-0.193,6.166-0.364l1.102-0.105c7.512-0.666,24.02-9.22,27.775-19.655c2.958-8.219,3.738-17.199,1.77-20.458C233.168,179.508,230.845,178.393,227.904,176.981z"/><path id="XMLID_470_" d="M156.734,0C73.318,0,5.454,67.354,5.454,150.143c0,26.777,7.166,52.988,20.741,75.928L0.212,302.716c-0.484,1.429-0.124,3.009,0.933,4.085C1.908,307.58,2.943,308,4,308c0.405,0,0.813-0.061,1.211-0.188l79.92-25.396c21.87,11.685,46.588,17.853,71.604,17.853C240.143,300.27,308,232.923,308,150.143C308,67.354,240.143,0,156.734,0z M156.734,268.994c-23.539,0-46.338-6.797-65.936-19.657c-0.659-0.433-1.424-0.655-2.194-0.655c-0.407,0-0.815,0.062-1.212,0.188l-40.035,12.726l12.924-38.129c0.418-1.234,0.209-2.595-0.561-3.647c-14.924-20.392-22.813-44.485-22.813-69.677c0-65.543,53.754-118.867,119.826-118.867c66.064,0,119.812,53.324,119.812,118.867C276.546,215.678,222.799,268.994,156.734,268.994z"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>
                    </a>
                  </div>
                </li>

              </ul>
              <div class="hidden md:flex divider divider-horizontal my-4 mx-0"></div>
              <ul class="hidden md:flex menu menu-horizontal gap-2">
                <li class="dropdown dropdown-end">
                  <label tabindex="0" class="btn btn-ghost font-normal text-base rounded-lg m-1">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                  </label>
                  <ul tabindex="0" class="dropdown-content menu p-2 shadow bg-base-100 rounded-box w-52">
                    <li class="menu-title">
                      <span>{{ user['username'] }}</span>
                    </li>
                    <li><a href="/account">Akaun</a></li>
                    <li class="text-red-500"><a href="/logout">Log Keluar</a></li>
                  </ul>
                </li>
              </ul>
            </nav>
          </div>
          {% endif %}

          <div
            class="w-full"
            style="
              background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQ0MCIgaGVpZ2h0PSIxMzkwIiB2aWV3Qm94PSIwIDAgMTQ0MCAxMzkwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8ZyBvcGFjaXR5PSIwLjUiPgo8cGF0aCBkPSJNMCAxMjYuMTNMMTQ0IDEzOS44NThMMjg4IDg0LjA4NjRMNDMyIDEyNi4xM0w1NzYgOTcuODE0OEw3MjAgNzAuMzU4TDg2NCAxMzkuODU4TDEwMDggODQuMDg2NEwxMTUyIDEyNi4xM0wxMjk2IDExMi40MDFMMTQ0MCA4NC4wODY0VjBIMTI5NkgxMTUySDEwMDhIODY0SDcyMEg1NzZINDMySDI4OEgxNDRIMFYxMjYuMTNaIiBmaWxsPSIjRUZGN0ZCIi8+CjxwYXRoIGQ9Ik0wIDE2Ny4zMTVMMTQ0IDE4MS45MDFMMjg4IDEzOS44NThMNDMyIDE2Ny4zMTVMNTc2IDEzOS44NThINzIwTDg2NCAxODEuOTAxTDEwMDggMTM5Ljg1OEwxMTUyIDE5NS42M0wxMjk2IDE1My41ODZMMTQ0MCAxMzkuODU4VjgyLjM3MDRMMTI5NiAxMTAuNjg1TDExNTIgMTI0LjQxNEwxMDA4IDgyLjM3MDRMODY0IDEzOC4xNDJMNzIwIDY4LjY0Mkw1NzYgOTYuMDk4OEw0MzIgMTI0LjQxNEwyODggODIuMzcwNEwxNDQgMTM4LjE0MkwwIDEyNC40MTRWMTY3LjMxNVoiIGZpbGw9IiNFMkYxRjkiLz4KPHBhdGggZD0iTTAgMjY1LjEzTDE0NCAyNzguODU4TDI4OCAyMjMuMDg2TDQzMiAyNTEuNDAxTDU3NiAyMjMuMDg2SDcyMEw4NjQgMjM2LjgxNUwxMDA4IDIyMy4wODZMMTE1MiAyNTEuNDAxTDEyOTYgMjA5LjM1OEwxNDQwIDIyMy4wODZWMTM4LjE0MkwxMjk2IDE1MS44N0wxMTUyIDE5My45MTRMMTAwOCAxMzguMTQyTDg2NCAxODAuMTg1TDcyMCAxMzguMTQySDU3Nkw0MzIgMTY1LjU5OUwyODggMTM4LjE0MkwxNDQgMTgwLjE4NUwwIDE2NS41OTlWMjY1LjEzWiIgZmlsbD0iI0Q1RUJGOCIvPgo8cGF0aCBkPSJNMCAzMDYuMzE1TDE0NCAzNDguMzU4TDI4OCAyOTIuNTg2TDQzMiAzMDYuMzE1TDU3NiAyOTIuNTg2TDcyMCAyNjUuMTNMODY0IDI5Mi41ODZMMTAwOCAyNzguODU4TDExNTIgMzIwLjkwMUwxMjk2IDI2NS4xM0gxNDQwVjIyMS4zN0wxMjk2IDIwNy42NDJMMTE1MiAyNDkuNjg1TDEwMDggMjIxLjM3TDg2NCAyMzUuMDk5TDcyMCAyMjEuMzdINTc2TDQzMiAyNDkuNjg1TDI4OCAyMjEuMzdMMTQ0IDI3Ny4xNDJMMCAyNjMuNDE0VjMwNi4zMTVaIiBmaWxsPSIjQzhFNUY2Ii8+CjxwYXRoIGQ9Ik0wIDM3NS44MTVMMTQ0IDQxNy44NThMMjg4IDMzNC42M0w0MzIgMzc1LjgxNUg1NzZMNzIwIDM0OC4zNThMODY0IDM2Mi4wODZMMTAwOCAzMzQuNjNMMTE1MiAzOTAuNDAxTDEyOTYgMzM0LjYzTDE0NDAgMzIwLjkwMVYyNjMuNDE0SDEyOTZMMTE1MiAzMTkuMTg1TDEwMDggMjc3LjE0Mkw4NjQgMjkwLjg3TDcyMCAyNjMuNDE0TDU3NiAyOTAuODdMNDMyIDMwNC41OTlMMjg4IDI5MC44N0wxNDQgMzQ2LjY0MkwwIDMwNC41OTlWMzc1LjgxNVoiIGZpbGw9IiNCQ0RFRjUiLz4KPHBhdGggZD0iTTAgNzA5LjU4NkwxNDQgNzUxLjYzTDI4OCA2MjYuMzU4TDQzMiA2ODIuMTNMNTc2IDcyMy4zMTVMNzIwIDcwOS41ODZMODY0IDU4NC4zMTVMMTAwOCA1NTYuODU4TDExNTIgNzA5LjU4NkgxMjk2TDE0NDAgNjEyLjYzVjMxOS4xODVMMTI5NiAzMzIuOTE0TDExNTIgMzg4LjY4NUwxMDA4IDMzMi45MTRMODY0IDM2MC4zN0w3MjAgMzQ2LjY0Mkw1NzYgMzc0LjA5OUg0MzJMMjg4IDMzMi45MTRMMTQ0IDQxNi4xNDJMMCAzNzQuMDk5VjcwOS41ODZaIiBmaWxsPSIjQkNERUY1Ii8+CjxwYXRoIGQ9Ik0wIDg2Mi4zMTVMMTQ0IDg0OC41ODdMMjg4IDc5Mi44MTVMNDMyIDg0OC41ODdMNTc2IDg5MC42M0w3MjAgODQ4LjU4N0w4NjQgNzUxLjYzTDEwMDggNzIzLjMxNUwxMTUyIDgwNy40MDFMMTI5NiA4MjEuMTNMMTQ0MCA3NTEuNjNWNjEwLjkxNEwxMjk2IDcwNy44N0gxMTUyTDEwMDggNTU1LjE0Mkw4NjQgNTgyLjU5OUw3MjAgNzA3Ljg3TDU3NiA3MjEuNTk5TDQzMiA2ODAuNDE0TDI4OCA2MjQuNjQyTDE0NCA3NDkuOTE0TDAgNzA3Ljg3Vjg2Mi4zMTVaIiBmaWxsPSIjQkNERUY1Ii8+CjxwYXRoIGQ9Ik0wIDk0Ni40MDFMMTQ0IDkxOC4wODdMMjg4IDg5MC42M0w0MzIgOTA0LjM1OEw1NzYgOTczLjg1OEw3MjAgOTQ2LjQwMUw4NjQgODM0Ljg1OEwxMDA4IDc3OS4wODdMMTE1MiA4NzYuOTAxTDEyOTYgODkwLjYzTDE0NDAgODIxLjEzVjc0OS45MTRMMTI5NiA4MTkuNDE0TDExNTIgODA1LjY4NUwxMDA4IDcyMS41OTlMODY0IDc0OS45MTRMNzIwIDg0Ni44N0w1NzYgODg4LjkxNEw0MzIgODQ2Ljg3TDI4OCA3OTEuMDk5TDE0NCA4NDYuODdMMCA4NjAuNTk5Vjk0Ni40MDFaIiBmaWxsPSIjQzhFNUY2Ii8+CjxwYXRoIGQ9Ik0wIDEwMjkuNjNMMTQ0IDk4Ny41ODZMMjg4IDEwMDEuMzFMNDMyIDk4Ny41ODZMNTc2IDEwNTcuMDlINzIwTDg2NCA5MTguMDg2TDEwMDggODQ4LjU4NkwxMTUyIDk3My44NThIMTI5NkwxNDQwIDg5MC42M1Y4MTkuNDE0TDEyOTYgODg4LjkxNEwxMTUyIDg3NS4xODVMMTAwOCA3NzcuMzdMODY0IDgzMy4xNDJMNzIwIDk0NC42ODVMNTc2IDk3Mi4xNDJMNDMyIDkwMi42NDJMMjg4IDg4OC45MTRMMTQ0IDkxNi4zN0wwIDk0NC42ODVWMTAyOS42M1oiIGZpbGw9IiNENUVCRjgiLz4KPHBhdGggZD0iTTAgMTI2NS41OUwxNDQgMTI1MS44NkwyODggMTI2NS41OUw0MzIgMTIzOC4xM0w1NzYgMTI3OS4zMUg3MjBMODY0IDExODIuMzZMMTAwOCAxMTY4LjYzTDExNTIgMTE5Ni4wOUwxMjk2IDEyMzguMTNMMTQ0MCAxMjY1LjU5Vjg4OC45MTRMMTI5NiA5NzIuMTQySDExNTJMMTAwOCA4NDYuODdMODY0IDkxNi4zN0w3MjAgMTA1NS4zN0g1NzZMNDMyIDk4NS44N0wyODggOTk5LjU5OUwxNDQgOTg1Ljg3TDAgMTAyNy45MVYxMjY1LjU5WiIgZmlsbD0iI0UyRjFGOSIvPgo8L2c+Cjwvc3ZnPgo=);
              background-repeat: no-repeat;
              background-size: cover;
            ">
            <div class="min-h-screen relative mb-44">
              <!-- The inner alertbox -->
              <div class="absolute w-full px-8 md:px-16 xl:px-28 opacity-95 hover:opacity-80 transition-opacity flex flex-col gap-2 z-20 {{ page['url'] == '/viewticket' ? 'mt-8' : '' }}" id="alert-container-authed">
              </div>
              {# {{ content }} #}
              {% block content %}{% endblock %}
            </div>
          </div>
        </div>

        {# Auth: Side Drawer #}
        <div class="drawer-side">
          <label for="main-drawer" class="drawer-overlay"></label>
          <ul class="menu p-4 overflow-y-auto w-80 bg-base-100 text-base-content" x-data="authNavbarData">
            <div class="flex flex-row justify-between items-center w-full mb-4">
              <label for="main-drawer" class="btn btn-ghost">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M7 16l-4-4m0 0l4-4m-4 4h18" />
                </svg>
              </label>
              <img src="https://cdn.mypanel.link/af5a5a/5poolxxjg4ox7pog.png" alt="Logo" class="w-24">
            </div>
            <li class="menu-title">
              <span>Order</span>
            </li>
            <li><a href="/">Cipta Order</a></li>
            <li><a href="/orders">Semak Order</a></li>
            <li><a href="/subscriptions" x-show="availableMenus['Subscriptions']">Subscription</a></li>
            <li><a href="/refill" x-show="availableMenus['Refill']">Refill</a></li>
            <li><a href="/massorder">Mass Order</a></li>

            <div class="px-4">
              <div class="divider divider-vertcal"></div>
            </div>

            <li class="menu-title">
              <span>Servis utama</span>
            </li>
            <li><a href="/services">Senarai Servis</a></li>
            <li><a href="/addfunds">Tambah Nilai</a></li>

            <div class="px-4">
              <div class="divider divider-vertcal"></div>
            </div>

            <li class="menu-title">
              <span>Servis Tambahan</span>
            </li>
            <li><a href="/affiliates">Affiliates</a></li>
            <li><a href="/child-panel">Child Panels</a></li>

            <div class="px-4">
              <div class="divider divider-vertcal"></div>
            </div>

            <li class="menu-title">
              <span>Menu Tambahan</span>
            </li>
            <li><a href="/tickets">Mesej Admin</a></li>
            <li><a href="/faq">Soalan Lazim</a></li>
            <li><a href="/terms">Terma & Syarat</a></li>
            <li><a href="/api">API</a></li>
            <li><a href="/account">Akaun</a></li>
            <li><a class="text-red-500" href="/logout">Log Keluar</a></li>
          </ul>
        </div>
      </div>
    {% else %}
      {# Guest: Container #}
      <div class="w-full flex flex-col items-center text-neutral-dark-700">
        {# Guest: Not Signin Page #}
        {% if not user['auth'] and (page['url'] not in ['/', '/signup', '/forgot-password', '/reset-password'] or page['title'] == 'FAQ') %}
          <nav x-data class="flex items-center justify-between w-full px-4 md:px-8 2xl:px-0 lg:w-[64rem] xl:w-[80rem] my-4 z-10">
              <div class="flex items-center gap-4">
                  <div class="dropdown lg:hidden relative">
                      <label tabindex="0" class="btn btn-square btn-ghost">
                          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                          <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" />
                          </svg>
                      </label>
                      <ul tabindex="0" class="menu menu-compact dropdown-content mt-3 p-2 shadow bg-base-100 rounded-box w-52">
                          <li><a href="/terms">Terma</a></li>
                          <li><a href="/services">Harga</a></li>
                          <li><a href="/faq">Soalan Lazim</a></li>
                          <li><a href="/signup">Daftar</a></li>
                      </ul>
                  </div>
      
                  <a class="mr-8 w-24 md:w-40" href="/"><img src="https://cdn.mypanel.link/af5a5a/5poolxxjg4ox7pog.png" alt="Logo"></a>
              </div>
              <ul class="hidden lg:flex items-center gap-2 mr-auto">
                  <li><a class="btn btn-ghost" href="/terms">Terma</a></li>
                  <li><a class="btn btn-ghost" href="/services">Harga</a></li>
                  <li><a class="btn btn-ghost" href="/faq">Soalan Lazim</a></li>
                  <li><a class="btn btn-ghost" href="/signup">Daftar</a></li>
              </ul>
      
              <a
                  href="/"
                  class="modal-button btn btn-secondary flex items-center justify-center md:w-56">
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1" />
                  </svg>
                  <span class="ml-4">Log Masuk</span>
              </a>
          </nav>

          {#
          <nav x-data class="flex items-center w-[84rem] my-4 z-10">
            <div class="dropdown">
              <label tabindex="0" class="btn btn-ghost">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h7" /></svg>
              </label>
              <ul tabindex="0" class="menu menu-compact dropdown-content mt-3 p-2 shadow bg-base-100 rounded-box w-52">
                <div class="flex flex-row justify-between items-center w-full mb-4">
                  <label for="guest-drawer" class="btn btn-ghost">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M7 16l-4-4m0 0l4-4m-4 4h18" />
                    </svg>
                  </label>
                  <img src="https://cdn.mypanel.link/af5a5a/5poolxxjg4ox7pog.png" alt="Logo" class="w-24">
                </div>
                <li><a href="/terms">Terma</a></li>
                <li><a href="/services">Harga</a></li>
                <li><a href="/faq">Soalan Lazim</a></li>
                <li><a href="/signup">Daftar</a></li>
              </ul>
            </div>

            <a class="mr-8 w-40" href="/"><img src="https://cdn.mypanel.link/af5a5a/5poolxxjg4ox7pog.png" alt="Logo"></a>
            <ul class="flex items-center gap-2 mr-auto">
                <li><a class="btn btn-ghost" href="/terms">Terma</a></li>
                <li><a class="btn btn-ghost" href="/services">Harga</a></li>
                <li><a class="btn btn-ghost" href="/faq">Soalan Lazim</a></li>
                <li><a class="btn btn-ghost" href="/signup">Daftar</a></li>
            </ul>

            <!-- Guest: Signin -->
            {% if not user['auth'] and page['url'] == '/' %}
            <label class="btn btn-secondary flex items-center justify-center w-56" for="login-modal">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1" />
                </svg>
                <span class="ml-4">Log Masuk</span>
            </label>
            {% else %}
            <a href="/" class="btn btn-secondary flex items-center justify-center w-56">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1" />
                </svg>
                <span class="ml-4">Log Masuk</span>
            </a>
            {% endif %}
          </nav>
          #}
        {% endif %}
        {# {{ content }} #}
        {% block content %}{% endblock %}
      </div>
    {% endif %}

    <!-- Put this part before </body> tag -->
    <input type="checkbox" id="modal-description" class="modal-toggle" />
    <label for="modal-description" class="modal cursor-pointer">
      <label class="modal-box relative" for="" id="modal-description-content">
      </label>
    </label>

    {% if not user['auth'] and page['url'] == '/'  %}
      <!-- Put this part before </body> tag -->
      {# The login modal #}
      <input type="checkbox" id="login-modal" class="modal-toggle" {% if success %} checked="checked" {% elseif error %} checked="checked" {% endif %} />
      <label for="login-modal" class="modal cursor-pointer">
        <label class="modal-box mx-2 md:w-9/12 md:max-w-[32rem] relative px-6 py-8 sm:px-10 sm:py-10 self-start sm:self-center mt-8 sm:mt-0" for="">
          <div class="absolute w-full px-4 md:px-8 opacity-95 hover:opacity-80 transition-opacity flex flex-col gap-2 z-20 inset-x-0" id="alert-container-guest"></div>

          <label for="login-modal" class="btn btn-sm btn-circle absolute right-6 top-8 sm:right-10 sm:top-10">✕</label>        
          <div class="mb-10 w-36"><img src="https://cdn.mypanel.link/af5a5a/5poolxxjg4ox7pog.png" alt="Logo"></div>
          <h3 class="mb-6 text-3xl font-bold">Log Masuk</h3>
          <form method="post" action="{{ page['url'] }}">
            <input type="hidden" name="_csrf" value="{{csrftoken}}">
            {# CSRF #}
            <div class="mb-6">
              <div class="form-control w-full mb-3">
                <label class="label">
                  <span class="label-text">Username</span>
                </label>
                <input id="username" name="LoginForm[username]" type="text" placeholder="Isi username" class="input input-bordered w-full" />
              </div>
              <div class="form-control w-full mb-3">
                <label class="label">
                  <span class="label-text">Kata Laluan</span>
                </label>
                <input id="password" name="LoginForm[password]" type="password" placeholder="Isi kata laluan" class="input input-bordered w-full" />
                <label class="label">
                  <span class="label-text-alt"></span>
                  <span class="label-text-alt"><a href="/resetpassword" class="link link-hover link-primary">Lupa kata laluan?</a></span>
                </label>
              </div>
            </div>
            
            <div id="signin-captcha-container">
            </div>

            <div class="form-control mb-3">
              <label class="cursor-pointer gap-3 justify-start label" for="remember">
                <input class="checkbox checkbox-primary" type="checkbox" name="LoginForm[remember]" value="1" id="remember" />
                <span class="label-text">Remember me</span>
              </label>
            </div>
            <button class="btn btn-primary block w-full">Log Masuk</button>
          </form>
        </label>
      </label>
    {% endif %}

    {{ site['custom_footer'] }}

    {% if site['name'] == 'development' %}
    <script type="module" src="/src/ts/main.ts"></script>
    {% endif %}

		{% for script in site['scripts'] %}
      {# Make sure jquery is only available in neworder, services #}
      {# This checks if... #}
      {# User is auth, page is in /, /services #}
      {# It is not jquery #}
      {# Then it will render the script #}
      {% if
        script['src'] and
        (
          'jquery' not in script['src'] or
          (user['auth'] and page['url'] in ['/', '/services']) or
          (not user['auth'] and page['url'] == '/services')
        )
      %}
      <script type="text/javascript" src="{{ script['src'] }}"></script>
      {% endif %}
      {% if script['code'] %}
      <script type="text/javascript">
        {{ script['code'] }}
      </script>
      {% endif %}
    {% endfor %}

    <!-- Beamer Settings -->
    {% if user['auth'] or page['url'] in ['/', '/faq', '/terms', '/services'] %}
    <script>
      var beamer_config = {
        product_id : 'JVcZTpGf11415', // DO NOT CHANGE: This is your product code on Beamer
        selector : 'beamerButton'
      };
    </script>
    <script type="text/javascript" src="https://app.getbeamer.com/js/beamer-embed.js" defer="defer"></script>
    {% endif %}

    <script>
      document.addEventListener('alpine:init', () => {
        Alpine.data('authNavbarData', () => ({
            currentPageName: urlPageNameMap['{{ page['url'] }}'],
            availableMenus: availableMenus,
        }))
      })

      const availableMenus = {
        {% for menu in site['menu'] %}
          '{{ menu['name'] }}': {
            'link': '{{ menu['link'] }}',
            'isActive': '{{ menu['active'] }}',
          },
        {% endfor %}
      }

      const urlPageNameMap = {
        '/': '{{ user['auth'] ? 'neworder' : 'signin' }}',
        '/signup': 'signup',
        '/services': 'services',
        '/terms': 'terms',
        '/faq': 'faq',

        '/account': 'account',

        '/addfunds': 'addfunds',
        '/orders': 'orders',
        '/refill': 'refill',
        '/subscriptions': 'subscriptions',
        '/massorder': 'massorder',

        '/tickets': 'tickets',
        '/viewticket': 'viewticket',
        
        '/api': 'api',
        '/child-panel': 'child-panel',
        '/affiliates': 'affiliates',
        '/massorder': 'massorder',
        '/updates': 'updates',
      }
    </script>
  </body>
</html>
